{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/como-usar-o-usecontext-no-react/",
    "result": {"data":{"markdownRemark":{"fields":{"slug":"/como-usar-o-usecontext-no-react/"},"frontmatter":{"title":"Como usar o useContext no React","description":"Um breve tutorial com dicas praticas de uso no useContext","date":"10 de dezembro de 2021","image":"/assets/img/desert.jpg"},"html":"<h1><strong>Comparações</strong></h1>\n<p>Poucos sabem mais o React já teve uma “<a href=\"https://pt-br.reactjs.org/docs/legacy-context.html\">API de context</a>o” antes da implementação dos hooks. O contexto era “embutido” no this do componente, que disponibilizava métodos auxiliares para acessar o mesmo.<br>\nA principal dificuldade em utilizar essa forma de contexto era gerenciar como ele era passado entre os componentes, por isso essa API nunca foi muito utilizada, sempre que havia necessidade de usar uma forma de “state global” optávamos por implementações como <a href=\"https://www.google.com/url?sa=t&#x26;rct=j&#x26;q=&#x26;esrc=s&#x26;source=web&#x26;cd=2&#x26;cad=rja&#x26;uact=8&#x26;ved=2ahUKEwi36PKVvdToAhVrHLkGHS9FBcMQFjABegQIAxAB&#x26;url=https%3A%2F%2Fredux.js.org%2Fintroduction%2Fgetting-started&#x26;usg=AOvVaw3poOhKKu-c0Wtpt9_zhNLR\">redux</a>, <a href=\"https://effector.now.sh/\">effector</a>, etc …</p>\n<p>Aqui segue um exemplo simples de como era sua implementação</p>\n<p>Antiga API de contexto — <a href=\"https://gist.github.com/dev-jpnobrega/e880a4cd935bd76beed8a0e5a9670451\">gist completo</a></p>\n<p>Note que dentro do componente <strong>MessageList</strong> temos o método <code class=\"language-text\">getChildContext</code> que define o contexto que será passado para os filhos, <code class=\"language-text\">childContextTypes</code> e <code class=\"language-text\">contextTypes</code> definem os tipos das propriedades esperadas dentro do contexto.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVQoz42Q3UsUURjG58/1pqvoJshgs4gwUDCojC4iochK0CSVTVdcFmtxV3TVTduZ1VVzz9d8nDlzZvfMeeIsS3QZ/K6ehx+8z+sxhf9FWqYhejGnmsVG+ML72/EMTFmajnFhNqoyy5RlGWgBJk34k7h8ANH9R/4dGa4KaSANkiFCDZaONGXoAEwW4dGN8IU4Y0zDndANxzJXWCw3PpQb9fb1djOoNPyd4564TLInK2puQ77/ns5v6aklPbmYLO9TC841v4jGMk3tYUDL9bNK01+tnVQa/l6HMJIlG0fJeivebEc/uuEpHQ3OWWqFH7LYeCPTwTNEAwiNKEdmIYfoS5AB+gWIBTXo5yAaJIc4IbxN2RAeVW6eHCItII1NC5vB7nfsYYAcLtHWxrmNtNWwcggFhNJwWTAFL8xxeoXtJr7WsLaLL1W8W8Pj16ge4NMW1nfx8RtefcabFSxVsLmH1SpmFtD85Z7qJQb1Nm49xN1Z3JvDRAlTLzHzFss7uD2N+8/w4AVKzx0TJcwu4M5TPJpHreUudZtJivYlgj66xMEUjs/R6qJzg3OG6xA9Ma56HBcMAcFV6H70ByGUHXifBtFkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"UseContext\"\n        title=\"ReactHooks\"\n        data-src=\"/static/3b5d35ebe6602b021962aa605ab172d9/d9199/usecontext-hook-twitter.png\"\n        data-srcset=\"/static/3b5d35ebe6602b021962aa605ab172d9/8ff5a/usecontext-hook-twitter.png 240w,\n/static/3b5d35ebe6602b021962aa605ab172d9/e85cb/usecontext-hook-twitter.png 480w,\n/static/3b5d35ebe6602b021962aa605ab172d9/d9199/usecontext-hook-twitter.png 960w,\n/static/3b5d35ebe6602b021962aa605ab172d9/c1b63/usecontext-hook-twitter.png 1200w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Dentro da nova API de contexto cada objeto <em>context</em> vem com dois componentes <code class=\"language-text\">Provider</code>e <code class=\"language-text\">Consumer;\r\nProvider</code> permite componentes consumidores assinarem mudanças no contexto.<br>\n<code class=\"language-text\">Consumer</code>é utilizado nos componentes que precisam consumir o valor daquele contexto.</p>\n<p>Está segregação nos permite utilizar o <code class=\"language-text\">Consumer</code> só nos componentes que terão necessidade de consumir aquele contexto.</p>\n<p>Nota, um consumidor já mais altera o estado do contexto, se você tem componentes alinhados que precisam atualizar o contexto a partir de componentes filhos, você pode passar uma função dentro do contexto permitindo que, componentes filhos atualizem o contexto (o exemplo abaixo mostra essa implementação).</p>\n<p>Vou deixar um exemplo simples de como utilizar a nova API (deixei alguns comentários no código para mostrar o passo a passo).</p>","timeToRead":2}},"pageContext":{"slug":"/como-usar-o-usecontext-no-react/","previousPost":null,"nextPost":null}},
    "staticQueryHashes": ["1987758150","3827422267","764694655"]}